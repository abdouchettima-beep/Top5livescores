<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>⚽ Football Scores</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f7f9; margin:0; padding:0; }
    header { background:#111; color:#fff; padding:15px; text-align:center; font-size:1.5em; }
    .btn-container { text-align:center; margin:15px; }
    button {
      padding:10px 20px; border:none; border-radius:5px; cursor:pointer;
      margin:5px; font-weight:bold;
    }
    button.active { background:#28a745; color:white; }
    button:not(.active) { background:#ccc; }
    .matches { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; padding:10px; }
    .match {
      background:white; padding:15px; border-radius:10px; width:280px;
      box-shadow:0 4px 6px rgba(0,0,0,0.1); text-align:center;
    }
    .league { font-size:0.9em; color:#555; margin-bottom:5px; }
    .teams { font-size:1.2em; font-weight:bold; margin:10px 0; }
    .status { margin-top:8px; font-size:0.9em; color:#007bff; }
  </style>
</head>
<body>

  <header>⚽ Football Scores</header>
  <div class="btn-container">
    <button id="todayBtn" class="active">Today's Matches</button>
    <button id="upcomingBtn">Upcoming Matches</button>
  </div>
  <div class="matches" id="matches"></div>

<script>
const API_KEY = "427c7eed27f749bfa40954e947f72a19"; // Replace with your Football-Data.org key
const BASE_URL = "https://api.football-data.org/v4";

// Only show these competitions (IDs from Football-Data.org docs)
const TOP_COMPETITIONS = ["PL", "PD", "BL1", "SA", "FL1", "CL"]; 
// PL=Premier League, PD=La Liga, BL1=Bundesliga, SA=Serie A, FL1=Ligue 1, CL=Champions League

const matchesDiv = document.getElementById("matches");
const todayBtn = document.getElementById("todayBtn");
const upcomingBtn = document.getElementById("upcomingBtn");

async function fetchMatches(type="today") {
  matchesDiv.innerHTML = "<p>Loading...</p>";
  try {
    let url;
    if (type === "today") {
      url = `${BASE_URL}/matches`; // today matches by default
    } else {
      url = `${BASE_URL}/matches?status=SCHEDULED`; // upcoming
    }

    const res = await fetch(url, {
      headers: { "X-Auth-Token": API_KEY }
    });
    const data = await res.json();

    matchesDiv.innerHTML = "";

    data.matches.forEach(match => {
      if (!TOP_COMPETITIONS.includes(match.competition.code)) return;

      const div = document.createElement("div");
      div.className = "match";
      div.innerHTML = `
        <div class="league">${match.competition.name}</div>
        <div class="teams">${match.homeTeam.name} vs ${match.awayTeam.name}</div>
        <div class="score">
          ${match.score.fullTime.home ?? "-"} : ${match.score.fullTime.away ?? "-"}
        </div>
        <div class="status">
          ${match.status} (Kickoff: ${new Date(match.utcDate).toLocaleTimeString()})
        </div>
      `;
      matchesDiv.appendChild(div);
    });

    if (matchesDiv.innerHTML === "") {
      matchesDiv.innerHTML = "<p>No matches found right now.</p>";
    }
  } catch (err) {
    matchesDiv.innerHTML = "<p>Error fetching data. Check API key or network.</p>";
    console.error(err);
  }
}

todayBtn.addEventListener("click", () => {
  todayBtn.classList.add("active");
  upcomingBtn.classList.remove("active");
  fetchMatches("today");
});

upcomingBtn.addEventListener("click", () => {
  upcomingBtn.classList.add("active");
  todayBtn.classList.remove("active");
  fetchMatches("upcoming");
});

// Load today's matches by default
fetchMatches("today");
</script>

</body>
</html>
